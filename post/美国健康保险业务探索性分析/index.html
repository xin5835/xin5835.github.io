<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ | Robert&#39;s Blog</title>
<meta name="keywords" content="R">
<meta name="description" content="å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚">
<meta name="author" content="">
<link rel="canonical" href="https://xin5835.github.io/post/%E7%BE%8E%E5%9B%BD%E5%81%A5%E5%BA%B7%E4%BF%9D%E9%99%A9%E4%B8%9A%E5%8A%A1%E6%8E%A2%E7%B4%A2%E6%80%A7%E5%88%86%E6%9E%90/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9d4ae320f369fb3d9080028170995128a56b893318ee102de7fd970c86bd7be2.css" integrity="sha256-nUrjIPNp&#43;z2QgAKBcJlRKKVriTMY7hAt5/2XDIa9e&#43;I=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://xin5835.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://xin5835.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://xin5835.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://xin5835.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://xin5835.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://xin5835.github.io/post/%E7%BE%8E%E5%9B%BD%E5%81%A5%E5%BA%B7%E4%BF%9D%E9%99%A9%E4%B8%9A%E5%8A%A1%E6%8E%A2%E7%B4%A2%E6%80%A7%E5%88%86%E6%9E%90/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css" integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js" integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>

<meta property="og:url" content="https://xin5835.github.io/post/%E7%BE%8E%E5%9B%BD%E5%81%A5%E5%BA%B7%E4%BF%9D%E9%99%A9%E4%B8%9A%E5%8A%A1%E6%8E%A2%E7%B4%A2%E6%80%A7%E5%88%86%E6%9E%90/">
  <meta property="og:site_name" content="Robert&#39;s Blog">
  <meta property="og:title" content="ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ">
  <meta property="og:description" content="å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2021-06-20T11:18:15+08:00">
    <meta property="article:modified_time" content="2021-06-20T11:18:15+08:00">
    <meta property="article:tag" content="R">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ">
<meta name="twitter:description" content="å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://xin5835.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ",
      "item": "https://xin5835.github.io/post/%E7%BE%8E%E5%9B%BD%E5%81%A5%E5%BA%B7%E4%BF%9D%E9%99%A9%E4%B8%9A%E5%8A%A1%E6%8E%A2%E7%B4%A2%E6%80%A7%E5%88%86%E6%9E%90/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ",
  "name": "ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ",
  "description": "å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚\n",
  "keywords": [
    "R"
  ],
  "articleBody": "å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚\nèƒŒæ™¯ å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚\nä¸€ã€å¯ä»¥äº†è§£ç”¨æˆ·åœ¨åŒ»ç–—è´¹ç”¨æ”¯å‡ºä¸Šçš„çš„æœ€å¤§ã€æœ€å°å€¼å’Œå¹³å‡æ”¯å‡ºè´¹ç”¨è¿™äº›äººç¾¤åˆ†åˆ«æœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚\näºŒã€åŒ»ç–—è´¹ç”¨æ”¯å‡ºä¸é‚£äº›å› ç´ æœ‰å…³ï¼Œé‚£äº›æ˜¯ä¸»è¦å†³å®šå› ç´ ï¼Œå¦‚ä½•æ‰èƒ½ç²¾ç¡®çš„å¯¹å¾…ä¸åŒçš„äººç¾¤è®¾å®šä¿é™©é¢åº¦ï¼Œä»¥è¾¾åˆ°èµ„æºçš„æœ€ä¼˜è¿ç”¨ã€‚\nä¸‰ã€æœ‰æ²¡æœ‰æ¨¡å‹å¯ä»¥åæ˜ å‡ºå¤§éƒ¨åˆ†ç”¨æˆ·åœ¨å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºä¸Šçš„å…³ç³»ï¼Œæ¨¡å‹çš„è¡¨ç°å¦‚ä½•ï¼Œæ˜¯å¦æœ‰å¤§é‡çš„å¼‚å¸¸æ•°æ®å’Œç«‹ç¾¤å€¼ã€‚\nå››ã€ä¾æ®åˆ†æè¿‡ç¨‹ï¼Œæå‡ºç›¸å…³å»ºè®®ã€‚\nç›®å½• ä¸€ã€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ® 1.1åŠ è½½åŒ… 1.2è¯»å–æ•°æ® 1.3å˜é‡æ³¨é‡Š äºŒã€æ•°æ®æ¸…æ´— 2.1æ£€æŸ¥ç¼ºå¤±å€¼ 2.2æ•°æ®æ¦‚è§ˆ 2.3å°†sex ã€smokerã€regionå˜é‡è½¬æ¢ä¸ºå› å­ï¼Œå¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡† ä¸‰ã€å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ– 3.1insuranceåˆ†å¸ƒå›¾ 3.2å¹´é¾„åˆ†å¸ƒå›¾ 3.3æ€§åˆ«åˆ†å¸ƒå›¾ 3.4bmiå› ç´ åˆ†å¸ƒå›¾ 3.5å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾ 3.6smokerå› ç´ åˆ†å¸ƒå›¾ 3.7åœ°åŒºå› ç´ åˆ†å¸ƒå›¾ å››ã€ç›¸å…³æ€§æ¢ç´¢ äº”ã€å»ºç«‹æ¨¡å‹ 5.1å¤šå…ƒçº¿æ€§æ¨¡å‹ 5.2å¤šé‡çº¿æ€§ 5.2.1ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡åšå¤šé‡çº¿æ€§æ¨¡å‹çš„å¯è§†åŒ– 5.5.2.2ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ– å…­ã€ç»“è®º ä¸€ã€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ® 1.1åŠ è½½åŒ… library(tidyverse) library(psych) library(ggridges) library(broom.mixed) library(viridis)#è°ƒè‰² library(modelr) library(lme4) library(patchwork) 1.2è¯»å–æ•°æ® insurance \u003c- read_csv(\"~/workspace/insurance.csv\") insurance 1.3å˜é‡æ³¨é‡Š åºå· å˜é‡ æ³¨é‡Š 1 age å¹´é¾„ 2 sex æ€§åˆ« 3 bmi èº«ä½“è´¨é‡æŒ‡æ•°ï¼Œæˆäººæ ‡å‡†å€¼ï¼ˆ18.5-23.9ï¼‰ï¼Œç®—æ³•ï¼škg/(m^2) 4 children å°å­©æ•°é‡ 5 smoker æ˜¯å¦å¸çƒŸ 6 region åœ°åŒº 7 charges æŠ•ä¿è´¹ç”¨ äºŒã€æ•°æ®æ¸…æ´— 2.1æ£€æŸ¥ç¼ºå¤±å€¼ insurance %\u003e% summarise_all( ~ sum(is.na(.)) ) å„ä¸ªå˜é‡å‡æ²¡æœ‰ç¼ºå¤±å€¼ã€‚\n2.2æ•°æ®æ¦‚è§ˆ summary(insurance) æ•°æ®é›†æœ‰1338è¡Œï¼ˆè§‚æµ‹å€¼ï¼‰ï¼Œ7ä¸ªå˜é‡ï¼Œ3ä¸ªå­—ç¬¦å‹å‘é‡ï¼Œ4ä¸ªæ•°å­—å‹å‘é‡ã€‚\nè¯¥æ•°æ®é›†ä¸»è¦æ˜¯å¥åº·ä¿é™©è´¹ç”¨ç”¨æ”¯å‡ºæ”¶é›†çš„ç›¸å…³æ•°æ®ï¼Œè‡ªå˜é‡åŒ…æ‹¬ç”¨æˆ·çš„å¹´é¾„ã€æ€§åˆ«ã€èº«ä½“è´¨é‡æŒ‡æ•°ã€å°å­©æ•°é‡ã€æ˜¯å¦å¸çƒŸã€åœ°åŒºã€‚\n2.3å°†sex ã€smokerã€regionå˜é‡è½¬æ¢ä¸ºå› å­ï¼Œå¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡† insu_df \u003c- insurance %\u003e% mutate(sex = factor(sex), smoker = factor(smoker), region = factor(region), children = factor(children) ) insu_df ä¸‰ã€å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ– 3.1 insuranceåˆ†å¸ƒå›¾ insurance %\u003e% ggplot(aes(charges, ..density.., fill = I(\"#d45087\"))) + geom_histogram(bins = 50) + geom_density()+ theme(legend.position = \"none\") tibble(low_charges = nrow(filter(insu_df,charges\u003c15000 )), middle_charges = nrow(filter(insu_df,charges\u003e=15000 \u0026 charges\u003c50000)), high_charges = nrow(filter(insu_df, charges\u003e=50000)), ) å¥åº·ä¿é™©æ”¯å‡ºè´¹ç”¨é›†ä¸­åœ¨1.5ä¸‡ç¾å…ƒä»¥ä¸‹ï¼Œå æ¯”73.3%ã€‚1.5ä¸‡-5ä¸‡ä¹‹é—´å æ¯”26.2%ï¼Œ5ä¸‡ä»¥ä¸Šå æ¯”0.5%ã€‚è¿™ä¸‰ä¸ªåŒºé—´æ®µçš„æ”¯å‡ºè´¹ç”¨å·®è·è¾ƒå¤§ï¼Œåº”é‡‡å–ä¸åŒçš„è¿è¥ç­–ç•¥ã€‚\n3.2å¹´é¾„åˆ†å¸ƒå›¾ insu_df %\u003e% ggplot(aes(age, fill = I(\"#d45087\")))+ geom_bar()+ theme(legend.position = \"none\") p1 \u003c- insu_df %\u003e% ggplot(aes(age, charges))+ geom_point(color = I(\"#d45087\")) p2 \u003c- insu_df %\u003e% ggplot(aes(age, charges, color = smoker))+ geom_point() p1+p2 å›¾å½¢è¡¨æ˜ï¼š\n1.å¹´é¾„æ¡å½¢å›¾æ˜¾ç¤ºï¼ŒæŠ•ä¿è´¹ç”¨ä¸­20å²ä»¥ä¸‹çš„äººæ•°å æ¯”æœ€é«˜ï¼Œ20å²ä»¥ä¸Šäººæ•°åˆ†å¸ƒå‡åŒ€ã€‚\n2.æŠ½çƒŸç¾¤ä½“çš„ä¿é™©æ”¯å‡ºè´¹ç”¨æ¯”éæŠ½çƒŸäººç¾¤çš„ä¿é™©æ”¯å‡ºè´¹ç”¨è¦é«˜ï¼Œéƒ½æˆçº¿æ€§å¢é•¿è¶‹åŠ¿ã€‚\n3.å¹´é¾„å’Œä¿é™©æ”¯å‡ºè´¹ç”¨å‘ˆçº¿æ€§å…³ç³»ï¼Œä½†æ˜¯è¿™ç§å…³ç³»åº”è¯¥æ”¶åˆ°å…¶ä»–å› ç´ çš„å½±å“ï¼Œè¡¨ç°ä¸ºå¤šå±‚çº¿æ€§å…³ç³»ã€‚\n4.ä¾ç…§æ˜¯å¦å¸çƒŸå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ”¯å‡ºè´¹ç”¨å°äº20000ç¾é‡‘çš„ç”¨æˆ·ä¸­ï¼Œçº¿æ€§å…³ç³»éå¸¸æ˜æ˜¾ï¼Œæ•°æ®åˆ†å¸ƒé›†ä¸­ï¼Œç¦»ç¾¤å€¼è¾ƒå°‘ã€‚\n5.çº¢è‰²å’Œç»¿è‰²é‡å éƒ¨åˆ†ï¼Œç”±äºæ•°æ®é›†ä¸­æ²¡æœ‰å…³äºæŠ½çƒŸæ”¯æ•°çš„è®°å½•ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯å¶å°”å¸çƒŸå’Œä¸å¸çƒŸçš„äººç¾¤ã€‚\n6.åŒ»ç–—è´¹ç”¨æ”¯å‡ºæœ€é«˜çš„ç”¨æˆ·å¯èƒ½æ˜¯è€çƒŸæ°‘ã€‚\n3.3æ€§åˆ«åˆ†å¸ƒå›¾ p1 \u003c- insu_df %\u003e% count(sex) %\u003e% ggplot(aes(sex, n, fill = I(\"#d45087\")))+ geom_col()+ theme(legend.position = \"none\") p2 \u003c- insu_df %\u003e% ggplot(aes(charges, sex, fill = sex)) + ggridges::geom_density_ridges() p3 \u003c- insu_df %\u003e% ggplot(aes(sex, charges, fill = sex))+ geom_boxplot() (p1+p2)/p3 æ€§åˆ«å› ç´ ï¼Œæ ·æœ¬ä¸­ç”·å¥³äººæ•°å‡è¡¡ï¼Œè´¹ç”¨æ”¯å‡ºæ— å¤§çš„å·®å¼‚ã€‚\n3.4bmiåˆ†å¸ƒå›¾ p1 \u003c- insu_df %\u003e% ggplot(aes(x = bmi, y =stat(density)))+ geom_histogram( aes(fill = I(â€œ#d45087â€)), bins = 50)+ theme(legend.position = â€œnoneâ€)+ geom_density() p2 \u003c- insu_df %\u003e% ggplot(aes(x = bmi, charges, color = charges))+ geom_point()+ scale_color_viridis(option = â€œEâ€) p3 \u003c- insu_df %\u003e% ggplot(aes(factor(age), bmi, color =I(â€œ#d45087â€)))+ geom_point()+ geom_jitter()+ stat_summary(fun.y= mean, colour = â€œblueâ€, geom = â€œpointâ€, size = 5) (p1+p2)/p3 bmiæ•°æ®å‘ˆå¸¸æ€åˆ†å¸ƒï¼Œç”¨æˆ·å„ä¸ªå¹´é¾„æ®µçš„å¹³å‡bmiä¸º30ï¼ŒbmièŒƒå›´é›†ä¸­ï¼ˆ25-35ï¼‰ï¼Œbmiä¸ä¿é™©æ”¯å‡ºçœ‹ä¸åˆ°æ˜æ˜¾çš„çº¿æ€§å…³ç³»ã€‚ä¸èƒ½å•çº¯çš„æŠŠbmiçš„é«˜ä½ä½œä¸ºä¿é™©è´¹ç”¨é«˜ä½çš„è¯„ä»·æ ‡å‡†ã€‚ å…³äºä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œbmiå› ç´ ï¼Œå¹¶ä¸åƒä¸»è§‚è®¤å®šçš„ï¼Œè¶Šè‚¥èƒ–çš„äººï¼Œå¥åº·ç¨‹åº¦è¶Šå·®ï¼Œå¥åº·è´¹ç”¨æ”¯å‡ºè¶Šå¤šã€‚\n3.5å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾ p1 \u003c- insu_df %\u003e% count(children) %\u003e% ggplot(aes(children, n))+ geom_col( aes(fill = I(\"#d45087\")))+ theme(legend.position = \"none\") p2 \u003c- insu_df %\u003e% ggplot(aes(children, charges, fill = children))+ geom_boxplot() p1+p2 æ²¡æœ‰å„¿ç«¥çš„ç”¨æˆ·å¤§çº¦å æ¯”44%ã€‚å„¿ç«¥æ•°é‡è¶Šå¤šï¼Œä¿é™©è´¹ç”¨å‡ºç°å¤§é‡‘é¢çš„æ¦‚ç‡è¶Šä½ã€‚\n3.6å¸çƒŸå› ç´ åˆ†å¸ƒå›¾ p1 \u003c- insu_df %\u003e% ggplot(aes(smoker,charges, fill = smoker))+ geom_boxplot() p2 \u003c- insu_df %\u003e% ggplot(aes(charges, fill = smoker, alpha = 0.5))+ geom_density() p1/p2 è´¹ç”¨æ”¯å‡ºåœ¨å¸çƒŸå› ç´ ä¸­çš„è¡¨ç°ï¼ŒåŒºåˆ«éå¸¸å¤§ã€‚éå¸çƒŸç”¨æˆ·çš„æ”¯å‡ºè´¹ç”¨åœ¨100-1600ç¾å…ƒæµ®åŠ¨ï¼›å¸çƒŸç”¨æˆ·çš„æ³¢åŠ¨èŒƒå›´ä¸º15000-55000ã€‚å¸çƒŸç”¨æˆ·çš„ä¿é™©æ”¯å‡ºè´¹ç”¨æœ€å°å€¼å’Œéå¸çƒŸç”¨æˆ·æ”¯å‡ºè´¹ç”¨çš„æœ€å¤§å€¼æŒå¹³ã€‚\nå¯ä»¥æ¸…æ™°çš„çœ‹åˆ°åˆ¶çº¦å¥åº·ä¿é™©è´¹ç”¨çš„å…³é”®å› ç´ ä¸­ï¼Œæ˜¯å¦å¸çƒŸæ˜¯å…¶ä¸­é‡è¦å› ç´ ä¹‹ä¸€ã€‚\n3.7åœ°åŒºå› ç´ åˆ†å¸ƒå›¾ p1 \u003c- insu_df %\u003e% count(region) %\u003e% ggplot(aes(region, n, width = 0.7, fill = I(\"#d45087\")))+ geom_col()+ coord_flip()+ theme(legend.position = \"none\") p2 \u003c- insu_df %\u003e% ggplot(aes(charges, region, fill = region))+ ggridges::geom_density_ridges() p3 \u003c- insu_df %\u003e% ggplot(aes(region, charges, fill = region))+ geom_boxplot()+ coord_flip() p1+(p2/p3) åœ°åŒºå› ç´ ä¸­ï¼Œå››ä¸ªåœ°åŒºåœ¨è´¹ç”¨æ”¯å‡ºä¸Šæ•°æ®è¡¨ç°æ²¡æœ‰å¤§çš„å·®å¼‚æ€§ã€‚\nå››ã€ç›¸å…³æ€§æ¢ç´¢ insu_df \u003c- within(insu_df,{ smoke \u003c- NA smoke[smoker == \"yes\"] \u003c- 1 smoke[smoker == \"no\"] \u003c- 0}) insu_df[c(\"age\", \"bmi\", \"children\", \"smoke\", \"charges\")] %\u003e% pairs.panels(stars = TRUE, main=\"Insurance Scatterplot Matrix\") å¯ä»¥çœ‹åˆ°chargesåŒsmokerã€ageã€bmiéƒ½å‘ˆç°æ­£ç›¸å…³ï¼ŒchargesåŒsmokeçš„ç›¸å…³ç³»æ•°è¾¾åˆ°äº†0.79ã€‚æ˜¯å¦å¸çƒŸå·²ç»æˆäº†å½±å“å¥åº·è´¹ç”¨çš„å†³å®šæ€§å› ç´ ã€‚\näº”ã€å»ºç«‹æ¨¡å‹ 5.1å¤šå…ƒçº¿æ€§æ¨¡å‹ mod1 \u003c- lm(charges ~ smoker+age+bmi+children+region, data = insu_df) summary(mod1) åœ¨på€¼\u003c0.001æ°´å¹³ä¸‹ï¼Œæˆªè·ã€å¸çƒŸäººç¾¤ã€å¹´é¾„ã€bmiå’Œ2ä¸ªå„¿ç«¥çš„å›å½’ç³»æ•°éƒ½éå¸¸æ˜¾è‘—ã€‚è¯¥æ¨¡å‹å¯ä»¥è§£é‡Š75%çš„å˜å¼‚ã€‚\nmod2 \u003c- lm(charges ~ smoker+age+bmi, data = insu_df) summary(mod2) æ¨¡å‹2çš„å†³å®šç³»æ•°ä¸º74.8ï¼Œå„å˜é‡çš„å›å½’ç³»æ•°éƒ½éå¸¸æ˜¾è‘—ã€‚\n5.2å¤šé‡çº¿æ€§æ¨¡å‹ mod3 \u003c- lmer(charges ~ age + (1 + age | smoker), data = insu_df) mod3 ä»¥æ˜¯å¦å¸çƒŸå¯¹æŠŠæ•°æ®åˆ†ä¸ºä¸¤ç»„ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å¦å¸çƒŸå¯¹äºå¹´é¾„å› ç´ åœ¨ä¿é™©è´¹ç”¨æ”¯å‡ºä¸Šçš„å˜åŒ–æ•ˆåº”ã€‚\n5.2.1ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ– insu_df %\u003e% add_predictions(mod3) %\u003e% ggplot(aes( age, charges, color = smoker)) + geom_point() + geom_line(aes(x = age, y = pred)) è¯¥æ¨¡å‹å¯¹ä¸æŠ½çƒŸçš„ç”¨æˆ·æ‹Ÿåˆçš„è¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œä½†æ˜¯å¯¹äºå¸çƒŸçš„ç”¨æˆ·æ‹Ÿåˆç›´çº¿æ˜æ˜¾æ„Ÿè§‰æœ‰äº›ç²—æ—·ã€‚æˆ–è®¸ä¸å¸çƒŸçš„é‡ä»¥åŠå…¶ä»–å› ç´ æœ‰å…³ï¼Œå¯¼è‡´è¯¥æ¨¡å‹æ‹Ÿåˆçš„ç»¿è‰²ç›´çº¿ï¼Œä¸å¤Ÿå¥½ã€‚\nmod4 \u003c- lmer(charges ~ bmi + (1 + bmi | smoker), data = insu_df) mod4 è¯¥æ¨¡å‹ä»¥ä¸å¸çƒŸç»„ä½œä¸ºå‚æ•°å¯¹ç…§ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å¦å¸çƒŸå¯¹äºbmiå› ç´ åœ¨ä¿é™©è´¹ç”¨æ”¯å‡ºä¸Šçš„å˜åŒ–æ•ˆåº”ã€‚\n5.2.2ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ– insu_df %\u003e% add_predictions(mod4) %\u003e% ggplot(aes( bmi, charges, color = smoker)) + geom_point() + geom_line(aes(x = bmi, y = pred)) è¿™ä¸ªæ¨¡å‹çš„è§£é‡Šèƒ½åŠ›å¾ˆå¥½ï¼Œå¸çƒŸäººç¾¤çš„éšç€bmiçš„å¢åŠ ï¼Œæ”¯ä»˜è´¹ç”¨é«˜é€Ÿå¢åŠ ï¼›éå¸çƒŸäººç¾¤éšç€bmiçš„å¢åŠ ï¼Œæ”¯å‡ºå¢åŠ çš„ç›¸å¯¹è¦ç¼“æ…¢äº›ã€‚\nç»“è®º 1.ç¾å›½å±…æ°‘åŒ»ç–—è´¹ç”¨æ”¯å‡ºé›†ä¸­15000ç¾å…ƒä»¥ä¸‹ï¼Œå æ¯”73.3%ã€‚1.5ä¸‡-5ä¸‡ä¹‹é—´å æ¯”26.2%ã€‚è¿™ä¸¤éƒ¨åˆ†å…±å æ®äº†99.5%çš„åŒ»ç–—è´¹ç”¨æ”¯å‡ºæƒ…å†µã€‚\n2.å¥åº·ä¿é™©è´¹ç”¨åœ¨æ€§åˆ«å’Œåœ°åŒºä¸Šæ²¡æœ‰æ˜æ˜¾çš„å·®å¼‚ã€‚\n3.ä»æ¨¡å‹ä¸Šçœ‹ï¼ŒåŒ»ç–—è´¹ç”¨æ”¯å‡ºåŒbmiã€smokerã€ageè¿™ä¸‰ä¸ªå˜é‡è¡¨ç°å‡ºè¾ƒé«˜çš„ç›¸å…³æ€§ã€‚å…¶ä¸­ï¼Œå¸çƒŸä¸å¦å¯¹ä¸è´¹ç”¨å½±å“å¾ˆå¤§ã€‚å…·ä½“æ¥è¯´å¸çƒŸäººç¾¤ä¸­å¹´é¾„å¤§åˆè‚¥èƒ–çš„äººç¾¤ï¼Œè´¹ç”¨æ”¯å‡ºéå¸¸é«˜ã€‚å¯¹äºéå¸çƒŸäººç¾¤ï¼Œå“ªæ€•èƒ–ä¸€äº›ï¼Œæ”¯å‡ºè´¹ç”¨ä¹Ÿä¸ä¼šéå¸¸ä¹‹é«˜ã€‚\n4.åœ¨åˆ¶å®šå¥åº·ä¿é™©ç­–ç•¥æ˜¯ï¼Œåº”ä»æ€»ä½“ä¸ŠæŠŠç”¨æˆ·åˆ†ä¸ºå¸çƒŸæˆ–è€…éå¸çƒŸç”¨æˆ·ï¼Œç„¶åå†å»çœ‹ç”¨æˆ·çš„å¹´é¾„å’Œbmiæƒ…å†µï¼Œè¿™æ ·å¯ä»¥æ›´ä¼˜çš„ä½¿ç”¨ä¿é™©èµ„æºã€‚åŒæ—¶ï¼Œåº”é¼“åŠ±äººä»¬æˆ’çƒŸï¼Œå¹¶é€‚å½“çš„è¿›è¡Œå‡è‚¥æ´»åŠ¨ã€‚\n",
  "wordCount" : "504",
  "inLanguage": "en",
  "datePublished": "2021-06-20T11:18:15+08:00",
  "dateModified": "2021-06-20T11:18:15+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://xin5835.github.io/post/%E7%BE%8E%E5%9B%BD%E5%81%A5%E5%BA%B7%E4%BF%9D%E9%99%A9%E4%B8%9A%E5%8A%A1%E6%8E%A2%E7%B4%A2%E6%80%A7%E5%88%86%E6%9E%90/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Robert's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://xin5835.github.io/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://xin5835.github.io/" accesskey="h" title="Robert&#39;s Blog (Alt + H)">Robert&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://xin5835.github.io/" title="ğŸ Home">
                    <span>ğŸ Home</span>
                </a>
            </li>
            <li>
                <a href="https://xin5835.github.io/archives/" title="ğŸ—‚Archives">
                    <span>ğŸ—‚Archives</span>
                </a>
            </li>
            <li>
                <a href="https://xin5835.github.io/search/" title="ğŸ”Search (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”Search</span>
                </a>
            </li>
            <li>
                <a href="https://xin5835.github.io/tags/" title="ğŸ”–Tags">
                    <span>ğŸ”–Tags</span>
                </a>
            </li>
            <li>
                <a href="https://xin5835.github.io/links/" title="ğŸ’ŒLinks">
                    <span>ğŸ’ŒLinks</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      ç¾å›½å¥åº·ä¿é™©ä¸šåŠ¡æ¢ç´¢æ€§åˆ†æ
    </h1>
    <div class="post-meta"><span title='2021-06-20 11:18:15 +0800 CST'>June 20, 2021</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e8%83%8c%e6%99%af" aria-label="èƒŒæ™¯">èƒŒæ™¯</a></li>
                <li>
                    <a href="#%e7%9b%ae%e5%bd%95" aria-label="ç›®å½•">ç›®å½•</a></li>
                <li>
                    <a href="#%e4%b8%80%e5%8a%a0%e8%bd%bd%e5%8c%85%e5%b9%b6%e8%af%bb%e5%8f%96%e6%95%b0%e6%8d%ae" aria-label="ä¸€ã€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ®">ä¸€ã€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ®</a><ul>
                        
                <li>
                    <a href="#11%e5%8a%a0%e8%bd%bd%e5%8c%85" aria-label="1.1åŠ è½½åŒ…">1.1åŠ è½½åŒ…</a></li>
                <li>
                    <a href="#12%e8%af%bb%e5%8f%96%e6%95%b0%e6%8d%ae" aria-label="1.2è¯»å–æ•°æ®">1.2è¯»å–æ•°æ®</a></li>
                <li>
                    <a href="#13%e5%8f%98%e9%87%8f%e6%b3%a8%e9%87%8a" aria-label="1.3å˜é‡æ³¨é‡Š">1.3å˜é‡æ³¨é‡Š</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e6%95%b0%e6%8d%ae%e6%b8%85%e6%b4%97" aria-label="äºŒã€æ•°æ®æ¸…æ´—">äºŒã€æ•°æ®æ¸…æ´—</a><ul>
                        
                <li>
                    <a href="#21%e6%a3%80%e6%9f%a5%e7%bc%ba%e5%a4%b1%e5%80%bc" aria-label="2.1æ£€æŸ¥ç¼ºå¤±å€¼">2.1æ£€æŸ¥ç¼ºå¤±å€¼</a></li>
                <li>
                    <a href="#22%e6%95%b0%e6%8d%ae%e6%a6%82%e8%a7%88" aria-label="2.2æ•°æ®æ¦‚è§ˆ">2.2æ•°æ®æ¦‚è§ˆ</a></li>
                <li>
                    <a href="#23%e5%b0%86sex-smokerregion%e5%8f%98%e9%87%8f%e8%bd%ac%e6%8d%a2%e4%b8%ba%e5%9b%a0%e5%ad%90%e5%b9%b6%e4%bf%9d%e7%95%99%e5%9c%a8insu_df%e6%95%b0%e6%8d%ae%e6%a1%86" aria-label="2.3å°†sex ã€smokerã€regionå˜é‡è½¬æ¢ä¸ºå› å­ï¼Œå¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡†">2.3å°†sex ã€smokerã€regionå˜é‡è½¬æ¢ä¸ºå› å­ï¼Œå¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡†</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%8f%98%e9%87%8f%e7%bb%9f%e8%ae%a1%e4%bb%a5%e5%8f%8a%e5%8f%af%e8%a7%86%e5%8c%96" aria-label="ä¸‰ã€å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ–">ä¸‰ã€å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ–</a><ul>
                        
                <li>
                    <a href="#31-insurance%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.1 insuranceåˆ†å¸ƒå›¾">3.1 insuranceåˆ†å¸ƒå›¾</a></li>
                <li>
                    <a href="#32%e5%b9%b4%e9%be%84%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.2å¹´é¾„åˆ†å¸ƒå›¾">3.2å¹´é¾„åˆ†å¸ƒå›¾</a></li>
                <li>
                    <a href="#33%e6%80%a7%e5%88%ab%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.3æ€§åˆ«åˆ†å¸ƒå›¾">3.3æ€§åˆ«åˆ†å¸ƒå›¾</a></li>
                <li>
                    <a href="#34bmi%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.4bmiåˆ†å¸ƒå›¾">3.4bmiåˆ†å¸ƒå›¾</a></li>
                <li>
                    <a href="#35%e5%84%bf%e7%ab%a5%e4%b8%aa%e6%95%b0%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.5å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾">3.5å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾</a></li>
                <li>
                    <a href="#36%e5%90%b8%e7%83%9f%e5%9b%a0%e7%b4%a0%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.6å¸çƒŸå› ç´ åˆ†å¸ƒå›¾">3.6å¸çƒŸå› ç´ åˆ†å¸ƒå›¾</a></li>
                <li>
                    <a href="#37%e5%9c%b0%e5%8c%ba%e5%9b%a0%e7%b4%a0%e5%88%86%e5%b8%83%e5%9b%be" aria-label="3.7åœ°åŒºå› ç´ åˆ†å¸ƒå›¾">3.7åœ°åŒºå› ç´ åˆ†å¸ƒå›¾</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e7%9b%b8%e5%85%b3%e6%80%a7%e6%8e%a2%e7%b4%a2" aria-label="å››ã€ç›¸å…³æ€§æ¢ç´¢">å››ã€ç›¸å…³æ€§æ¢ç´¢</a></li>
                <li>
                    <a href="#%e4%ba%94%e5%bb%ba%e7%ab%8b%e6%a8%a1%e5%9e%8b" aria-label="äº”ã€å»ºç«‹æ¨¡å‹">äº”ã€å»ºç«‹æ¨¡å‹</a><ul>
                        
                <li>
                    <a href="#51%e5%a4%9a%e5%85%83%e7%ba%bf%e6%80%a7%e6%a8%a1%e5%9e%8b" aria-label="5.1å¤šå…ƒçº¿æ€§æ¨¡å‹">5.1å¤šå…ƒçº¿æ€§æ¨¡å‹</a></li></ul>
                </li>
                <li>
                    <a href="#52%e5%a4%9a%e9%87%8d%e7%ba%bf%e6%80%a7%e6%a8%a1%e5%9e%8b" aria-label="5.2å¤šé‡çº¿æ€§æ¨¡å‹">5.2å¤šé‡çº¿æ€§æ¨¡å‹</a><ul>
                        
                <li>
                    <a href="#521%e4%bb%a5smoker%e4%b8%ba%e5%88%86%e7%bb%84%e5%af%b9age%e5%8f%98%e9%87%8f%e7%9a%84%e5%a4%9a%e9%87%8d%e7%ba%bf%e6%80%a7%e6%a8%a1%e5%9e%8b%e5%8f%af%e8%a7%86%e5%8c%96" aria-label="5.2.1ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–">5.2.1ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–</a></li>
                <li>
                    <a href="#522%e4%bb%a5smoker%e4%b8%ba%e5%88%86%e7%bb%84%e5%af%b9bmi%e5%8f%98%e9%87%8f%e7%9a%84%e5%a4%9a%e9%87%8d%e7%ba%bf%e6%80%a7%e6%a8%a1%e5%9e%8b%e5%8f%af%e8%a7%86%e5%8c%96" aria-label="5.2.2ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–">5.2.2ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bb%93%e8%ae%ba" aria-label="ç»“è®º">ç»“è®º</a>
                </li>
            </ul>
        </div>
    </details>
</div>










  <div class="post-content"><p>å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚</p>
<h2 id="èƒŒæ™¯">èƒŒæ™¯<a hidden class="anchor" aria-hidden="true" href="#èƒŒæ™¯">#</a></h2>
<p>å¥åº·ä¿é™©åœ¨åŒ»ç–—å¥åº·ç³»ç»Ÿä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼Œç ”ç©¶å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºçš„ç›¸å…³æ€§åŠå¯¹å½±å“å› ç´ é—´çš„æ¨¡å‹é¢„æµ‹ï¼Œå¯¹äºåˆç†è®¾ç½®ä¿é™©é‡‘é¢ï¼Œè°ƒé…ä¿é™©èµ„æºçš„æœ‰æ•ˆä½¿ç”¨ï¼Œå…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚</p>
<p>ä¸€ã€å¯ä»¥äº†è§£ç”¨æˆ·åœ¨åŒ»ç–—è´¹ç”¨æ”¯å‡ºä¸Šçš„çš„æœ€å¤§ã€æœ€å°å€¼å’Œå¹³å‡æ”¯å‡ºè´¹ç”¨è¿™äº›äººç¾¤åˆ†åˆ«æœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚</p>
<p>äºŒã€åŒ»ç–—è´¹ç”¨æ”¯å‡ºä¸é‚£äº›å› ç´ æœ‰å…³ï¼Œé‚£äº›æ˜¯ä¸»è¦å†³å®šå› ç´ ï¼Œå¦‚ä½•æ‰èƒ½ç²¾ç¡®çš„å¯¹å¾…ä¸åŒçš„äººç¾¤è®¾å®šä¿é™©é¢åº¦ï¼Œä»¥è¾¾åˆ°èµ„æºçš„æœ€ä¼˜è¿ç”¨ã€‚</p>
<p>ä¸‰ã€æœ‰æ²¡æœ‰æ¨¡å‹å¯ä»¥åæ˜ å‡ºå¤§éƒ¨åˆ†ç”¨æˆ·åœ¨å¥åº·ä¿é™©è´¹ç”¨æ”¯å‡ºä¸Šçš„å…³ç³»ï¼Œæ¨¡å‹çš„è¡¨ç°å¦‚ä½•ï¼Œæ˜¯å¦æœ‰å¤§é‡çš„å¼‚å¸¸æ•°æ®å’Œç«‹ç¾¤å€¼ã€‚</p>
<p>å››ã€ä¾æ®åˆ†æè¿‡ç¨‹ï¼Œæå‡ºç›¸å…³å»ºè®®ã€‚</p>
<h2 id="ç›®å½•">ç›®å½•<a hidden class="anchor" aria-hidden="true" href="#ç›®å½•">#</a></h2>
<pre><code>ä¸€ã€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ®
    1.1åŠ è½½åŒ…
    1.2è¯»å–æ•°æ®
    1.3å˜é‡æ³¨é‡Š
äºŒã€æ•°æ®æ¸…æ´—
    2.1æ£€æŸ¥ç¼ºå¤±å€¼
    2.2æ•°æ®æ¦‚è§ˆ
    2.3å°†sex ã€smokerã€regionå˜é‡è½¬æ¢ä¸ºå› å­ï¼Œå¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡†
ä¸‰ã€å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ–
    3.1insuranceåˆ†å¸ƒå›¾
    3.2å¹´é¾„åˆ†å¸ƒå›¾
    3.3æ€§åˆ«åˆ†å¸ƒå›¾
    3.4bmiå› ç´ åˆ†å¸ƒå›¾
    3.5å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾
    3.6smokerå› ç´ åˆ†å¸ƒå›¾
    3.7åœ°åŒºå› ç´ åˆ†å¸ƒå›¾
å››ã€ç›¸å…³æ€§æ¢ç´¢
äº”ã€å»ºç«‹æ¨¡å‹
    5.1å¤šå…ƒçº¿æ€§æ¨¡å‹
    5.2å¤šé‡çº¿æ€§
    5.2.1ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡åšå¤šé‡çº¿æ€§æ¨¡å‹çš„å¯è§†åŒ–
    5.5.2.2ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–
å…­ã€ç»“è®º
</code></pre>
<h2 id="ä¸€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ®">ä¸€ã€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#ä¸€åŠ è½½åŒ…å¹¶è¯»å–æ•°æ®">#</a></h2>
<h3 id="11åŠ è½½åŒ…">1.1åŠ è½½åŒ…<a hidden class="anchor" aria-hidden="true" href="#11åŠ è½½åŒ…">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tidyverse)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(psych)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(ggridges)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(broom.mixed)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(viridis)<span style="color:#75715e">#è°ƒè‰²</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(modelr)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(lme4)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(patchwork)
</span></span></code></pre></div><h3 id="12è¯»å–æ•°æ®">1.2è¯»å–æ•°æ®<a hidden class="anchor" aria-hidden="true" href="#12è¯»å–æ•°æ®">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insurance <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read_csv</span>(<span style="color:#e6db74">&#34;~/workspace/insurance.csv&#34;</span>)
</span></span><span style="display:flex;"><span>insurance
</span></span></code></pre></div><h3 id="13å˜é‡æ³¨é‡Š">1.3å˜é‡æ³¨é‡Š<a hidden class="anchor" aria-hidden="true" href="#13å˜é‡æ³¨é‡Š">#</a></h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">åºå·</th>
          <th style="text-align: left">å˜é‡</th>
          <th style="text-align: left">æ³¨é‡Š</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">1</td>
          <td style="text-align: left">age</td>
          <td style="text-align: left">å¹´é¾„</td>
      </tr>
      <tr>
          <td style="text-align: left">2</td>
          <td style="text-align: left">sex</td>
          <td style="text-align: left">æ€§åˆ«</td>
      </tr>
      <tr>
          <td style="text-align: left">3</td>
          <td style="text-align: left">bmi</td>
          <td style="text-align: left">èº«ä½“è´¨é‡æŒ‡æ•°ï¼Œæˆäººæ ‡å‡†å€¼ï¼ˆ18.5-23.9ï¼‰ï¼Œç®—æ³•ï¼škg/(m^2)</td>
      </tr>
      <tr>
          <td style="text-align: left">4</td>
          <td style="text-align: left">children</td>
          <td style="text-align: left">å°å­©æ•°é‡</td>
      </tr>
      <tr>
          <td style="text-align: left">5</td>
          <td style="text-align: left">smoker</td>
          <td style="text-align: left">æ˜¯å¦å¸çƒŸ</td>
      </tr>
      <tr>
          <td style="text-align: left">6</td>
          <td style="text-align: left">region</td>
          <td style="text-align: left">åœ°åŒº</td>
      </tr>
      <tr>
          <td style="text-align: left">7</td>
          <td style="text-align: left">charges</td>
          <td style="text-align: left">æŠ•ä¿è´¹ç”¨</td>
      </tr>
  </tbody>
</table>
<h2 id="äºŒæ•°æ®æ¸…æ´—">äºŒã€æ•°æ®æ¸…æ´—<a hidden class="anchor" aria-hidden="true" href="#äºŒæ•°æ®æ¸…æ´—">#</a></h2>
<h3 id="21æ£€æŸ¥ç¼ºå¤±å€¼">2.1æ£€æŸ¥ç¼ºå¤±å€¼<a hidden class="anchor" aria-hidden="true" href="#21æ£€æŸ¥ç¼ºå¤±å€¼">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insurance <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">summarise_all</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">~</span> <span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">is.na</span>(.))
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><p>å„ä¸ªå˜é‡å‡æ²¡æœ‰ç¼ºå¤±å€¼ã€‚</p>
<h3 id="22æ•°æ®æ¦‚è§ˆ">2.2æ•°æ®æ¦‚è§ˆ<a hidden class="anchor" aria-hidden="true" href="#22æ•°æ®æ¦‚è§ˆ">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">summary</span>(insurance)
</span></span></code></pre></div><p>æ•°æ®é›†æœ‰1338è¡Œï¼ˆè§‚æµ‹å€¼ï¼‰ï¼Œ7ä¸ªå˜é‡ï¼Œ3ä¸ªå­—ç¬¦å‹å‘é‡ï¼Œ4ä¸ªæ•°å­—å‹å‘é‡ã€‚</p>
<p>è¯¥æ•°æ®é›†ä¸»è¦æ˜¯å¥åº·ä¿é™©è´¹ç”¨ç”¨æ”¯å‡ºæ”¶é›†çš„ç›¸å…³æ•°æ®ï¼Œè‡ªå˜é‡åŒ…æ‹¬ç”¨æˆ·çš„å¹´é¾„ã€æ€§åˆ«ã€èº«ä½“è´¨é‡æŒ‡æ•°ã€å°å­©æ•°é‡ã€æ˜¯å¦å¸çƒŸã€åœ°åŒºã€‚</p>
<h3 id="23å°†sex-smokerregionå˜é‡è½¬æ¢ä¸ºå› å­å¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡†">2.3å°†sex ã€smokerã€regionå˜é‡è½¬æ¢ä¸ºå› å­ï¼Œå¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡†<a hidden class="anchor" aria-hidden="true" href="#23å°†sex-smokerregionå˜é‡è½¬æ¢ä¸ºå› å­å¹¶ä¿ç•™åœ¨insu_dfæ•°æ®æ¡†">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insu_df <span style="color:#f92672">&lt;-</span> insurance <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mutate</span>(sex <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(sex),
</span></span><span style="display:flex;"><span>           smoker <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(smoker),
</span></span><span style="display:flex;"><span>           region <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(region),
</span></span><span style="display:flex;"><span>           children <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(children)
</span></span><span style="display:flex;"><span>           ) 
</span></span><span style="display:flex;"><span>insu_df
</span></span></code></pre></div><h2 id="ä¸‰å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ–">ä¸‰ã€å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ–<a hidden class="anchor" aria-hidden="true" href="#ä¸‰å˜é‡ç»Ÿè®¡ä»¥åŠå¯è§†åŒ–">#</a></h2>
<h3 id="31-insuranceåˆ†å¸ƒå›¾">3.1 insuranceåˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#31-insuranceåˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insurance <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(charges, ..density.., fill <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(<span style="color:#e6db74">&#34;#d45087&#34;</span>))) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">geom_histogram</span>(bins <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">geom_density</span>()<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">tibble</span>(low_charges <span style="color:#f92672">=</span> <span style="color:#a6e22e">nrow</span>(<span style="color:#a6e22e">filter</span>(insu_df,charges<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">15000</span> )),
</span></span><span style="display:flex;"><span>       middle_charges <span style="color:#f92672">=</span>  <span style="color:#a6e22e">nrow</span>(<span style="color:#a6e22e">filter</span>(insu_df,charges<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">15000</span> <span style="color:#f92672">&amp;</span> charges<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">50000</span>)),
</span></span><span style="display:flex;"><span>       high_charges <span style="color:#f92672">=</span> <span style="color:#a6e22e">nrow</span>(<span style="color:#a6e22e">filter</span>(insu_df, charges<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">50000</span>)),
</span></span><span style="display:flex;"><span>         )
</span></span></code></pre></div><p>å¥åº·ä¿é™©æ”¯å‡ºè´¹ç”¨é›†ä¸­åœ¨1.5ä¸‡ç¾å…ƒä»¥ä¸‹ï¼Œå æ¯”73.3%ã€‚1.5ä¸‡-5ä¸‡ä¹‹é—´å æ¯”26.2%ï¼Œ5ä¸‡ä»¥ä¸Šå æ¯”0.5%ã€‚è¿™ä¸‰ä¸ªåŒºé—´æ®µçš„æ”¯å‡ºè´¹ç”¨å·®è·è¾ƒå¤§ï¼Œåº”é‡‡å–ä¸åŒçš„è¿è¥ç­–ç•¥ã€‚</p>
<h3 id="32å¹´é¾„åˆ†å¸ƒå›¾">3.2å¹´é¾„åˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#32å¹´é¾„åˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(age, fill <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(<span style="color:#e6db74">&#34;#d45087&#34;</span>)))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_bar</span>()<span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p1 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(age, charges))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">geom_point</span>(color <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(<span style="color:#e6db74">&#34;#d45087&#34;</span>))
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>p2 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(age, charges, color <span style="color:#f92672">=</span> smoker))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">geom_point</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p1<span style="color:#f92672">+</span>p2
</span></span></code></pre></div><p>å›¾å½¢è¡¨æ˜ï¼š</p>
<p>1.å¹´é¾„æ¡å½¢å›¾æ˜¾ç¤ºï¼ŒæŠ•ä¿è´¹ç”¨ä¸­20å²ä»¥ä¸‹çš„äººæ•°å æ¯”æœ€é«˜ï¼Œ20å²ä»¥ä¸Šäººæ•°åˆ†å¸ƒå‡åŒ€ã€‚</p>
<p>2.æŠ½çƒŸç¾¤ä½“çš„ä¿é™©æ”¯å‡ºè´¹ç”¨æ¯”éæŠ½çƒŸäººç¾¤çš„ä¿é™©æ”¯å‡ºè´¹ç”¨è¦é«˜ï¼Œéƒ½æˆçº¿æ€§å¢é•¿è¶‹åŠ¿ã€‚</p>
<p>3.å¹´é¾„å’Œä¿é™©æ”¯å‡ºè´¹ç”¨å‘ˆçº¿æ€§å…³ç³»ï¼Œä½†æ˜¯è¿™ç§å…³ç³»åº”è¯¥æ”¶åˆ°å…¶ä»–å› ç´ çš„å½±å“ï¼Œè¡¨ç°ä¸ºå¤šå±‚çº¿æ€§å…³ç³»ã€‚</p>
<p>4.ä¾ç…§æ˜¯å¦å¸çƒŸå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ”¯å‡ºè´¹ç”¨å°äº20000ç¾é‡‘çš„ç”¨æˆ·ä¸­ï¼Œçº¿æ€§å…³ç³»éå¸¸æ˜æ˜¾ï¼Œæ•°æ®åˆ†å¸ƒé›†ä¸­ï¼Œç¦»ç¾¤å€¼è¾ƒå°‘ã€‚</p>
<p>5.çº¢è‰²å’Œç»¿è‰²é‡å éƒ¨åˆ†ï¼Œç”±äºæ•°æ®é›†ä¸­æ²¡æœ‰å…³äºæŠ½çƒŸæ”¯æ•°çš„è®°å½•ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯å¶å°”å¸çƒŸå’Œä¸å¸çƒŸçš„äººç¾¤ã€‚</p>
<p>6.åŒ»ç–—è´¹ç”¨æ”¯å‡ºæœ€é«˜çš„ç”¨æˆ·å¯èƒ½æ˜¯è€çƒŸæ°‘ã€‚</p>
<h3 id="33æ€§åˆ«åˆ†å¸ƒå›¾">3.3æ€§åˆ«åˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#33æ€§åˆ«åˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>p1 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">count</span>(sex) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(sex, n, fill <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(<span style="color:#e6db74">&#34;#d45087&#34;</span>)))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_col</span>()<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p2 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(charges, sex, fill <span style="color:#f92672">=</span> sex)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>     ggridges<span style="color:#f92672">::</span><span style="color:#a6e22e">geom_density_ridges</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p3 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(sex, charges, fill <span style="color:#f92672">=</span> sex))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">geom_boxplot</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(p1<span style="color:#f92672">+</span>p2)<span style="color:#f92672">/</span>p3
</span></span></code></pre></div><p>æ€§åˆ«å› ç´ ï¼Œæ ·æœ¬ä¸­ç”·å¥³äººæ•°å‡è¡¡ï¼Œè´¹ç”¨æ”¯å‡ºæ— å¤§çš„å·®å¼‚ã€‚</p>
<h3 id="34bmiåˆ†å¸ƒå›¾">3.4bmiåˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#34bmiåˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>p1 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> bmi, y <span style="color:#f92672">=</span><span style="color:#a6e22e">stat</span>(density)))<span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">geom_histogram</span>( <span style="color:#a6e22e">aes</span>(fill <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(â€œ<span style="color:#75715e">#d45087â€)), bins = 50)+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> â€œnoneâ€)<span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">geom_density</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p2 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> bmi, charges, color <span style="color:#f92672">=</span> charges))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">geom_point</span>()<span style="color:#f92672">+</span> <span style="color:#a6e22e">scale_color_viridis</span>(option <span style="color:#f92672">=</span> â€œEâ€)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p3 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(<span style="color:#a6e22e">factor</span>(age), bmi, color <span style="color:#f92672">=</span><span style="color:#a6e22e">I</span>(â€œ<span style="color:#75715e">#d45087â€)))+             geom_point()+ </span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_jitter</span>()<span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stat_summary</span>(fun.y<span style="color:#f92672">=</span> mean, colour <span style="color:#f92672">=</span> â€œblueâ€, geom <span style="color:#f92672">=</span> â€œpointâ€, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>) 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>(p1<span style="color:#f92672">+</span>p2)<span style="color:#f92672">/</span>p3
</span></span></code></pre></div><p>bmiæ•°æ®å‘ˆå¸¸æ€åˆ†å¸ƒï¼Œç”¨æˆ·å„ä¸ªå¹´é¾„æ®µçš„å¹³å‡bmiä¸º30ï¼ŒbmièŒƒå›´é›†ä¸­ï¼ˆ25-35ï¼‰ï¼Œbmiä¸ä¿é™©æ”¯å‡ºçœ‹ä¸åˆ°æ˜æ˜¾çš„çº¿æ€§å…³ç³»ã€‚ä¸èƒ½å•çº¯çš„æŠŠbmiçš„é«˜ä½ä½œä¸ºä¿é™©è´¹ç”¨é«˜ä½çš„è¯„ä»·æ ‡å‡†ã€‚
å…³äºä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œbmiå› ç´ ï¼Œå¹¶ä¸åƒä¸»è§‚è®¤å®šçš„ï¼Œè¶Šè‚¥èƒ–çš„äººï¼Œå¥åº·ç¨‹åº¦è¶Šå·®ï¼Œå¥åº·è´¹ç”¨æ”¯å‡ºè¶Šå¤šã€‚</p>
<h3 id="35å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾">3.5å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#35å„¿ç«¥ä¸ªæ•°åˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>p1 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">count</span>(children) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(children, n))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">geom_col</span>( <span style="color:#a6e22e">aes</span>(fill <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(<span style="color:#e6db74">&#34;#d45087&#34;</span>)))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p2 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(children, charges, fill <span style="color:#f92672">=</span> children))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">geom_boxplot</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p1<span style="color:#f92672">+</span>p2
</span></span></code></pre></div><p>æ²¡æœ‰å„¿ç«¥çš„ç”¨æˆ·å¤§çº¦å æ¯”44%ã€‚å„¿ç«¥æ•°é‡è¶Šå¤šï¼Œä¿é™©è´¹ç”¨å‡ºç°å¤§é‡‘é¢çš„æ¦‚ç‡è¶Šä½ã€‚</p>
<h3 id="36å¸çƒŸå› ç´ åˆ†å¸ƒå›¾">3.6å¸çƒŸå› ç´ åˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#36å¸çƒŸå› ç´ åˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>p1 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(smoker,charges, fill <span style="color:#f92672">=</span> smoker))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">geom_boxplot</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p2 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(charges, fill <span style="color:#f92672">=</span> smoker, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">geom_density</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p1<span style="color:#f92672">/</span>p2
</span></span></code></pre></div><p>è´¹ç”¨æ”¯å‡ºåœ¨å¸çƒŸå› ç´ ä¸­çš„è¡¨ç°ï¼ŒåŒºåˆ«éå¸¸å¤§ã€‚éå¸çƒŸç”¨æˆ·çš„æ”¯å‡ºè´¹ç”¨åœ¨100-1600ç¾å…ƒæµ®åŠ¨ï¼›å¸çƒŸç”¨æˆ·çš„æ³¢åŠ¨èŒƒå›´ä¸º15000-55000ã€‚å¸çƒŸç”¨æˆ·çš„ä¿é™©æ”¯å‡ºè´¹ç”¨æœ€å°å€¼å’Œéå¸çƒŸç”¨æˆ·æ”¯å‡ºè´¹ç”¨çš„æœ€å¤§å€¼æŒå¹³ã€‚</p>
<p>å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°åˆ¶çº¦å¥åº·ä¿é™©è´¹ç”¨çš„å…³é”®å› ç´ ä¸­ï¼Œæ˜¯å¦å¸çƒŸæ˜¯å…¶ä¸­é‡è¦å› ç´ ä¹‹ä¸€ã€‚</p>
<h3 id="37åœ°åŒºå› ç´ åˆ†å¸ƒå›¾">3.7åœ°åŒºå› ç´ åˆ†å¸ƒå›¾<a hidden class="anchor" aria-hidden="true" href="#37åœ°åŒºå› ç´ åˆ†å¸ƒå›¾">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>p1 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">count</span>(region) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(region, n, width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.7</span>, fill <span style="color:#f92672">=</span> <span style="color:#a6e22e">I</span>(<span style="color:#e6db74">&#34;#d45087&#34;</span>)))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geom_col</span>()<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">coord_flip</span>()<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p2 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(charges, region, fill <span style="color:#f92672">=</span> region))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      ggridges<span style="color:#f92672">::</span><span style="color:#a6e22e">geom_density_ridges</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p3 <span style="color:#f92672">&lt;-</span> insu_df <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(region, charges, fill <span style="color:#f92672">=</span> region))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">geom_boxplot</span>()<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">coord_flip</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p1<span style="color:#f92672">+</span>(p2<span style="color:#f92672">/</span>p3)
</span></span></code></pre></div><p>åœ°åŒºå› ç´ ä¸­ï¼Œå››ä¸ªåœ°åŒºåœ¨è´¹ç”¨æ”¯å‡ºä¸Šæ•°æ®è¡¨ç°æ²¡æœ‰å¤§çš„å·®å¼‚æ€§ã€‚</p>
<h2 id="å››ç›¸å…³æ€§æ¢ç´¢">å››ã€ç›¸å…³æ€§æ¢ç´¢<a hidden class="anchor" aria-hidden="true" href="#å››ç›¸å…³æ€§æ¢ç´¢">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insu_df <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">within</span>(insu_df,{
</span></span><span style="display:flex;"><span>                    smoke <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">NA</span> 
</span></span><span style="display:flex;"><span>                    smoke[smoker <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;yes&#34;</span>] <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                    smoke[smoker <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;no&#34;</span>]  <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">0</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>insu_df<span style="color:#a6e22e">[c</span>(<span style="color:#e6db74">&#34;age&#34;</span>, <span style="color:#e6db74">&#34;bmi&#34;</span>, <span style="color:#e6db74">&#34;children&#34;</span>, <span style="color:#e6db74">&#34;smoke&#34;</span>, <span style="color:#e6db74">&#34;charges&#34;</span>)] <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">pairs.panels</span>(stars <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, main<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Insurance Scatterplot Matrix&#34;</span>)
</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°chargesåŒsmokerã€ageã€bmiéƒ½å‘ˆç°æ­£ç›¸å…³ï¼ŒchargesåŒsmokeçš„ç›¸å…³ç³»æ•°è¾¾åˆ°äº†0.79ã€‚æ˜¯å¦å¸çƒŸå·²ç»æˆäº†å½±å“å¥åº·è´¹ç”¨çš„å†³å®šæ€§å› ç´ ã€‚</p>
<h2 id="äº”å»ºç«‹æ¨¡å‹">äº”ã€å»ºç«‹æ¨¡å‹<a hidden class="anchor" aria-hidden="true" href="#äº”å»ºç«‹æ¨¡å‹">#</a></h2>
<h3 id="51å¤šå…ƒçº¿æ€§æ¨¡å‹">5.1å¤šå…ƒçº¿æ€§æ¨¡å‹<a hidden class="anchor" aria-hidden="true" href="#51å¤šå…ƒçº¿æ€§æ¨¡å‹">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mod1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(charges <span style="color:#f92672">~</span> smoker<span style="color:#f92672">+</span>age<span style="color:#f92672">+</span>bmi<span style="color:#f92672">+</span>children<span style="color:#f92672">+</span>region, data <span style="color:#f92672">=</span> insu_df)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">summary</span>(mod1)
</span></span></code></pre></div><p>åœ¨på€¼&lt;0.001æ°´å¹³ä¸‹ï¼Œæˆªè·ã€å¸çƒŸäººç¾¤ã€å¹´é¾„ã€bmiå’Œ2ä¸ªå„¿ç«¥çš„å›å½’ç³»æ•°éƒ½éå¸¸æ˜¾è‘—ã€‚è¯¥æ¨¡å‹å¯ä»¥è§£é‡Š75%çš„å˜å¼‚ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mod2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(charges <span style="color:#f92672">~</span> smoker<span style="color:#f92672">+</span>age<span style="color:#f92672">+</span>bmi, data <span style="color:#f92672">=</span> insu_df)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">summary</span>(mod2)
</span></span></code></pre></div><p>æ¨¡å‹2çš„å†³å®šç³»æ•°ä¸º74.8ï¼Œå„å˜é‡çš„å›å½’ç³»æ•°éƒ½éå¸¸æ˜¾è‘—ã€‚</p>
<h2 id="52å¤šé‡çº¿æ€§æ¨¡å‹">5.2å¤šé‡çº¿æ€§æ¨¡å‹<a hidden class="anchor" aria-hidden="true" href="#52å¤šé‡çº¿æ€§æ¨¡å‹">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mod3 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lmer</span>(charges <span style="color:#f92672">~</span> age <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> age <span style="color:#f92672">|</span> smoker), data <span style="color:#f92672">=</span> insu_df)
</span></span><span style="display:flex;"><span>mod3
</span></span></code></pre></div><p>ä»¥æ˜¯å¦å¸çƒŸå¯¹æŠŠæ•°æ®åˆ†ä¸ºä¸¤ç»„ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å¦å¸çƒŸå¯¹äºå¹´é¾„å› ç´ åœ¨ä¿é™©è´¹ç”¨æ”¯å‡ºä¸Šçš„å˜åŒ–æ•ˆåº”ã€‚</p>
<h3 id="521ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–">5.2.1ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–<a hidden class="anchor" aria-hidden="true" href="#521ä»¥smokerä¸ºåˆ†ç»„å¯¹ageå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insu_df <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">add_predictions</span>(mod3) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>( age, charges, color <span style="color:#f92672">=</span> smoker)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_point</span>() <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_line</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> age, y <span style="color:#f92672">=</span> pred)) 
</span></span></code></pre></div><p>è¯¥æ¨¡å‹å¯¹ä¸æŠ½çƒŸçš„ç”¨æˆ·æ‹Ÿåˆçš„è¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œä½†æ˜¯å¯¹äºå¸çƒŸçš„ç”¨æˆ·æ‹Ÿåˆç›´çº¿æ˜æ˜¾æ„Ÿè§‰æœ‰äº›ç²—æ—·ã€‚æˆ–è®¸ä¸å¸çƒŸçš„é‡ä»¥åŠå…¶ä»–å› ç´ æœ‰å…³ï¼Œå¯¼è‡´è¯¥æ¨¡å‹æ‹Ÿåˆçš„ç»¿è‰²ç›´çº¿ï¼Œä¸å¤Ÿå¥½ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mod4 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lmer</span>(charges <span style="color:#f92672">~</span> bmi <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> bmi <span style="color:#f92672">|</span> smoker), data <span style="color:#f92672">=</span> insu_df)
</span></span><span style="display:flex;"><span>mod4
</span></span></code></pre></div><p>è¯¥æ¨¡å‹ä»¥ä¸å¸çƒŸç»„ä½œä¸ºå‚æ•°å¯¹ç…§ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å¦å¸çƒŸå¯¹äºbmiå› ç´ åœ¨ä¿é™©è´¹ç”¨æ”¯å‡ºä¸Šçš„å˜åŒ–æ•ˆåº”ã€‚</p>
<h3 id="522ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–">5.2.2ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–<a hidden class="anchor" aria-hidden="true" href="#522ä»¥smokerä¸ºåˆ†ç»„å¯¹bmiå˜é‡çš„å¤šé‡çº¿æ€§æ¨¡å‹å¯è§†åŒ–">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>insu_df <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">add_predictions</span>(mod4) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>( bmi, charges, color <span style="color:#f92672">=</span> smoker)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_point</span>() <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_line</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> bmi, y <span style="color:#f92672">=</span> pred)) 
</span></span></code></pre></div><p>è¿™ä¸ªæ¨¡å‹çš„è§£é‡Šèƒ½åŠ›å¾ˆå¥½ï¼Œå¸çƒŸäººç¾¤çš„éšç€bmiçš„å¢åŠ ï¼Œæ”¯ä»˜è´¹ç”¨é«˜é€Ÿå¢åŠ ï¼›éå¸çƒŸäººç¾¤éšç€bmiçš„å¢åŠ ï¼Œæ”¯å‡ºå¢åŠ çš„ç›¸å¯¹è¦ç¼“æ…¢äº›ã€‚</p>
<h2 id="ç»“è®º">ç»“è®º<a hidden class="anchor" aria-hidden="true" href="#ç»“è®º">#</a></h2>
<p>1.ç¾å›½å±…æ°‘åŒ»ç–—è´¹ç”¨æ”¯å‡ºé›†ä¸­15000ç¾å…ƒä»¥ä¸‹ï¼Œå æ¯”73.3%ã€‚1.5ä¸‡-5ä¸‡ä¹‹é—´å æ¯”26.2%ã€‚è¿™ä¸¤éƒ¨åˆ†å…±å æ®äº†99.5%çš„åŒ»ç–—è´¹ç”¨æ”¯å‡ºæƒ…å†µã€‚</p>
<p>2.å¥åº·ä¿é™©è´¹ç”¨åœ¨æ€§åˆ«å’Œåœ°åŒºä¸Šæ²¡æœ‰æ˜æ˜¾çš„å·®å¼‚ã€‚</p>
<p>3.ä»æ¨¡å‹ä¸Šçœ‹ï¼ŒåŒ»ç–—è´¹ç”¨æ”¯å‡ºåŒbmiã€smokerã€ageè¿™ä¸‰ä¸ªå˜é‡è¡¨ç°å‡ºè¾ƒé«˜çš„ç›¸å…³æ€§ã€‚å…¶ä¸­ï¼Œå¸çƒŸä¸å¦å¯¹ä¸è´¹ç”¨å½±å“å¾ˆå¤§ã€‚å…·ä½“æ¥è¯´å¸çƒŸäººç¾¤ä¸­å¹´é¾„å¤§åˆè‚¥èƒ–çš„äººç¾¤ï¼Œè´¹ç”¨æ”¯å‡ºéå¸¸é«˜ã€‚å¯¹äºéå¸çƒŸäººç¾¤ï¼Œå“ªæ€•èƒ–ä¸€äº›ï¼Œæ”¯å‡ºè´¹ç”¨ä¹Ÿä¸ä¼šéå¸¸ä¹‹é«˜ã€‚</p>
<p>4.åœ¨åˆ¶å®šå¥åº·ä¿é™©ç­–ç•¥æ˜¯ï¼Œåº”ä»æ€»ä½“ä¸ŠæŠŠç”¨æˆ·åˆ†ä¸ºå¸çƒŸæˆ–è€…éå¸çƒŸç”¨æˆ·ï¼Œç„¶åå†å»çœ‹ç”¨æˆ·çš„å¹´é¾„å’Œbmiæƒ…å†µï¼Œè¿™æ ·å¯ä»¥æ›´ä¼˜çš„ä½¿ç”¨ä¿é™©èµ„æºã€‚åŒæ—¶ï¼Œåº”é¼“åŠ±äººä»¬æˆ’çƒŸï¼Œå¹¶é€‚å½“çš„è¿›è¡Œå‡è‚¥æ´»åŠ¨ã€‚</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://xin5835.github.io/tags/r/">R</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://xin5835.github.io/post/%E9%87%91%E5%88%9A%E7%BB%8F%E5%9C%A8%E8%AF%B4%E4%BB%80%E4%B9%88/">
    <span class="title">Â« Prev</span>
    <br>
    <span>ã€Šé‡‘åˆšç»ã€‹åœ¨è¯´ä»€ä¹ˆ</span>
  </a>
  <a class="next" href="https://xin5835.github.io/post/sql%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/">
    <span class="title">Next Â»</span>
    <br>
    <span>SQLåŸºç¡€æ•™ç¨‹</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://xin5835.github.io/">Robert&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
